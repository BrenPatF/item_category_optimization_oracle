
Database             Time                 Version
-------------------- -------------------- ------------------------------
Start: ORCL          14-JUN-2024 10:37:19 Version 21.3.0.0.0

Truncate paths

Table truncated.

old   2:     :MAX_PRICE := &MAX_PRICE;
new   2:     :MAX_PRICE := 500;

PL/SQL procedure successfully completed.

Recompile item_cat_seqs.pkb

Package body created.

No errors.
Just set context values: SEQ_SIZE = 11, MAX_PRICE = 500, ITEM_WIDTH = 3, TOP_N = 10
Previously set context values: SEQ_TYPE = , MIN_VALUE = , KEEP_NUM =

PL/SQL procedure successfully completed.


PL/SQL procedure successfully completed.

Pop_Table_Iterate
10 running sums
SQL_ID  323bar13mrwwy, child number 0
-------------------------------------
INSERT /*+ gather_plan_statistics INSERT_PATHS */ INTO PATHS (
PATH_RNK, ITEM_RNK, LEV, TOT_PRICE, TOT_VALUE, CAT_ID, NEXT_CAT_ID,
SAME_CATS, MIN_ITEMS, CATS_PATH, PATH ) WITH PATH_JOIN AS ( SELECT
ROW_NUMBER() OVER (PARTITION BY TRW.CATS_PATH || IRK.CAT_ID ORDER BY
TRW.TOT_VALUE + IRK.ITEM_VALUE DESC, TRW.TOT_PRICE + IRK.ITEM_PRICE)
PATH_RNK, IRK.ITEM_RNK, :B6 LEV, TRW.TOT_PRICE + IRK.ITEM_PRICE
TOT_PRICE, TRW.TOT_VALUE + IRK.ITEM_VALUE TOT_VALUE, IRK.CAT_ID,
IRK.NEXT_CAT_ID, CASE IRK.CAT_ID WHEN TRW.CAT_ID THEN TRW.SAME_CATS + 1
ELSE 1 END SAME_CATS, IRK.MIN_ITEMS, TRW.CATS_PATH || IRK.CAT_ID
CATS_PATH, TRW.PATH || IRK.ITEM_ID PATH FROM PATHS TRW JOIN
ITEMS_RANKED IRK ON IRK.ITEM_RNK BETWEEN (TRW.ITEM_RNK + 1) AND
(IRK.N_ITEMS - (:B1 - TRW.LEV - 1)) WHERE TRW.TOT_PRICE +
IRK.ITEM_PRICE + :B5 <= :B4 AND TRW.TOT_VALUE + IRK.ITEM_VALUE + :B3 >=
:B2 AND TRW.LEV < :B1 AND CASE IRK.CAT_ID WHEN TRW.CAT_ID THEN
TRW.SAME_CATS + 1 ELSE 1 END <= IRK.MAX_ITEMS AND :B1 - (TRW.LEV + 1) +
LEAST(CAS
Plan hash value: 539382260
---------------------------------------------------------------------------------------------------------
| Id  | Operation                | Name               | Starts | E-Rows | A-Rows |   A-Time   | Buffers |
---------------------------------------------------------------------------------------------------------
|   0 | INSERT STATEMENT         |                    |      1 |        |      0 |00:00:00.01 |       5 |
|   1 |  LOAD TABLE CONVENTIONAL | PATHS              |      1 |        |      0 |00:00:00.01 |       5 |
|*  2 |   VIEW                   |                    |      1 |      1 |      0 |00:00:00.01 |       5 |
|   3 |    WINDOW SORT           |                    |      1 |      1 |      0 |00:00:00.01 |       5 |
|   4 |     NESTED LOOPS         |                    |      1 |      1 |      0 |00:00:00.01 |       5 |
|*  5 |      TABLE ACCESS FULL   | PATHS              |      1 |      1 |      0 |00:00:00.01 |       5 |
|*  6 |      INDEX RANGE SCAN    | SYS_IOT_TOP_179639 |      0 |      1 |      0 |00:00:00.01 |       0 |
---------------------------------------------------------------------------------------------------------
Predicate Information (identified by operation id):
---------------------------------------------------
2 - filter(("PATH_RNK"<=:B7 OR :B7=0))
5 - filter("TRW"."LEV"<:B1)
6 - access("IRK"."ITEM_RNK">="TRW"."ITEM_RNK"+1)
filter(("TRW"."TOT_PRICE"+"IRK"."ITEM_PRICE"+:B5<=:B4 AND
"TRW"."TOT_VALUE"+"IRK"."ITEM_VALUE"+:B3>=:B2 AND
"IRK"."ITEM_RNK"<="IRK"."N_ITEMS"-(:B1-"TRW"."LEV"-1) AND "IRK"."MAX_ITEMS">=CASE "IRK"."CAT_ID"
WHEN "TRW"."CAT_ID" THEN "TRW"."SAME_CATS"+1 ELSE 1 END  AND
"IRK"."MIN_REMAIN"<=:B1-("TRW"."LEV"+1)+LEAST(CASE "IRK"."CAT_ID" WHEN "TRW"."CAT_ID" THEN
"TRW"."SAME_CATS"+1 ELSE 1 END ,"IRK"."MIN_ITEMS") AND ("IRK"."CAT_ID"="TRW"."CAT_ID" OR
"TRW"."SAME_CATS">="TRW"."MIN_ITEMS") AND ("IRK"."CAT_ID"="TRW"."CAT_ID" OR
"IRK"."CAT_ID"=NVL("TRW"."NEXT_CAT_ID","IRK"."CAT_ID"))))
Note
-----
- dynamic statistics used: dynamic sampling (level=2)
Timer Set: Pop_Table_Iterate, Constructed at 14 Jun 2024 10:37:19, written at 10:37:20
======================================================================================
Timer                    Elapsed         CPU       Calls       Ela/Call       CPU/Call
--------------------  ----------  ----------  ----------  -------------  -------------
Initial delete (0)          0.06        0.01           1        0.05500        0.01000
Initial insert (1)          0.00        0.01           1        0.00400        0.01000
Insert paths 1 (43)         0.02        0.02           1        0.02000        0.02000
Delete paths 1 (1)          0.01        0.00           1        0.00800        0.00000
Insert paths 2 (50)         0.09        0.01           1        0.09200        0.01000
Delete paths 2 (43)         0.00        0.00           1        0.00100        0.00000
Insert paths 3 (50)         0.10        0.08           1        0.09700        0.08000
Delete paths 3 (50)         0.00        0.00           1        0.00200        0.00000
Insert paths 4 (50)         0.04        0.03           1        0.03500        0.03000
Delete paths 4 (50)         0.00        0.00           1        0.00000        0.00000
Insert paths 5 (100)        0.02        0.00           1        0.01700        0.00000
Delete paths 5 (50)         0.00        0.00           1        0.00100        0.00000
Insert paths 6 (110)        0.02        0.00           1        0.01900        0.00000
Delete paths 6 (100)        0.00        0.00           1        0.00100        0.00000
Insert paths 7 (0)          0.01        0.00           1        0.01200        0.00000
Delete paths 7 (110)        0.00        0.00           1        0.00100        0.00000
Insert paths 8 (0)          0.00        0.00           1        0.00100        0.00000
Delete paths 8 (0)          0.00        0.00           1        0.00000        0.00000
Insert paths 9 (0)          0.00        0.00           1        0.00000        0.00000
Delete paths 9 (0)          0.00        0.00           1        0.00100        0.00000
Insert paths 10 (0)         0.23        0.16           1        0.22900        0.16000
Delete paths 10 (0)         0.00        0.00           1        0.00000        0.00000
Insert paths 11 (0)         0.00        0.00           1        0.00100        0.00000
Delete paths 11 (0)         0.00        0.00           1        0.00000        0.00000
(Other)                     0.00        0.00           1        0.00000        0.00000
--------------------  ----------  ----------  ----------  -------------  -------------
Total                       0.60        0.32          25        0.02388        0.01280
--------------------  ----------  ----------  ----------  -------------  -------------
[Timer timed (per call in ms): Elapsed: 0.01449, CPU: 0.00580]
SQL_ID  323bar13mrwwy, child number 0
-------------------------------------
INSERT /*+ gather_plan_statistics INSERT_PATHS */ INTO PATHS (
PATH_RNK, ITEM_RNK, LEV, TOT_PRICE, TOT_VALUE, CAT_ID, NEXT_CAT_ID,
SAME_CATS, MIN_ITEMS, CATS_PATH, PATH ) WITH PATH_JOIN AS ( SELECT
ROW_NUMBER() OVER (PARTITION BY TRW.CATS_PATH || IRK.CAT_ID ORDER BY
TRW.TOT_VALUE + IRK.ITEM_VALUE DESC, TRW.TOT_PRICE + IRK.ITEM_PRICE)
PATH_RNK, IRK.ITEM_RNK, :B6 LEV, TRW.TOT_PRICE + IRK.ITEM_PRICE
TOT_PRICE, TRW.TOT_VALUE + IRK.ITEM_VALUE TOT_VALUE, IRK.CAT_ID,
IRK.NEXT_CAT_ID, CASE IRK.CAT_ID WHEN TRW.CAT_ID THEN TRW.SAME_CATS + 1
ELSE 1 END SAME_CATS, IRK.MIN_ITEMS, TRW.CATS_PATH || IRK.CAT_ID
CATS_PATH, TRW.PATH || IRK.ITEM_ID PATH FROM PATHS TRW JOIN
ITEMS_RANKED IRK ON IRK.ITEM_RNK BETWEEN (TRW.ITEM_RNK + 1) AND
(IRK.N_ITEMS - (:B1 - TRW.LEV - 1)) WHERE TRW.TOT_PRICE +
IRK.ITEM_PRICE + :B5 <= :B4 AND TRW.TOT_VALUE + IRK.ITEM_VALUE + :B3 >=
:B2 AND TRW.LEV < :B1 AND CASE IRK.CAT_ID WHEN TRW.CAT_ID THEN
TRW.SAME_CATS + 1 ELSE 1 END <= IRK.MAX_ITEMS AND :B1 - (TRW.LEV + 1) +
LEAST(CAS
Plan hash value: 539382260
---------------------------------------------------------------------------------------------------------
| Id  | Operation                | Name               | Starts | E-Rows | A-Rows |   A-Time   | Buffers |
---------------------------------------------------------------------------------------------------------
|   0 | INSERT STATEMENT         |                    |      1 |        |      0 |00:00:00.01 |      17 |
|   1 |  LOAD TABLE CONVENTIONAL | PATHS              |      1 |        |      0 |00:00:00.01 |      17 |
|*  2 |   VIEW                   |                    |      1 |      1 |      0 |00:00:00.01 |      17 |
|   3 |    WINDOW SORT           |                    |      1 |      1 |      0 |00:00:00.01 |      17 |
|   4 |     NESTED LOOPS         |                    |      1 |      1 |      0 |00:00:00.01 |      17 |
|*  5 |      TABLE ACCESS FULL   | PATHS              |      1 |      1 |      0 |00:00:00.01 |      17 |
|*  6 |      INDEX RANGE SCAN    | SYS_IOT_TOP_179639 |      0 |      1 |      0 |00:00:00.01 |       0 |
---------------------------------------------------------------------------------------------------------
Predicate Information (identified by operation id):
---------------------------------------------------
2 - filter(("PATH_RNK"<=:B7 OR :B7=0))
5 - filter("TRW"."LEV"<:B1)
6 - access("IRK"."ITEM_RNK">="TRW"."ITEM_RNK"+1)
filter(("TRW"."TOT_PRICE"+"IRK"."ITEM_PRICE"+:B5<=:B4 AND
"TRW"."TOT_VALUE"+"IRK"."ITEM_VALUE"+:B3>=:B2 AND
"IRK"."ITEM_RNK"<="IRK"."N_ITEMS"-(:B1-"TRW"."LEV"-1) AND "IRK"."MAX_ITEMS">=CASE "IRK"."CAT_ID"
WHEN "TRW"."CAT_ID" THEN "TRW"."SAME_CATS"+1 ELSE 1 END  AND
"IRK"."MIN_REMAIN"<=:B1-("TRW"."LEV"+1)+LEAST(CASE "IRK"."CAT_ID" WHEN "TRW"."CAT_ID" THEN
"TRW"."SAME_CATS"+1 ELSE 1 END ,"IRK"."MIN_ITEMS") AND ("IRK"."CAT_ID"="TRW"."CAT_ID" OR
"TRW"."SAME_CATS">="TRW"."MIN_ITEMS") AND ("IRK"."CAT_ID"="TRW"."CAT_ID" OR
"IRK"."CAT_ID"=NVL("TRW"."NEXT_CAT_ID","IRK"."CAT_ID"))))
Note
-----
- dynamic statistics used: dynamic sampling (level=2)
Timer Set: Pop_Table_Iterate, Constructed at 14 Jun 2024 10:37:20, written at 10:37:21
======================================================================================
Timer                    Elapsed         CPU       Calls       Ela/Call       CPU/Call
--------------------  ----------  ----------  ----------  -------------  -------------
Initial delete (0)          0.00        0.00           1        0.00000        0.00000
Initial insert (1)          0.00        0.00           1        0.00000        0.00000
Insert paths 1 (43)         0.00        0.00           1        0.00200        0.00000
Delete paths 1 (1)          0.00        0.00           1        0.00000        0.00000
Insert paths 2 (150)        0.06        0.03           1        0.06100        0.03000
Delete paths 2 (43)         0.00        0.00           1        0.00100        0.00000
Insert paths 3 (150)        0.16        0.05           1        0.15900        0.05000
Delete paths 3 (150)        0.00        0.00           1        0.00100        0.00000
Insert paths 4 (150)        0.09        0.00           1        0.08900        0.00000
Delete paths 4 (150)        0.00        0.00           1        0.00000        0.00000
Insert paths 5 (300)        0.06        0.02           1        0.05700        0.02000
Delete paths 5 (150)        0.00        0.00           1        0.00000        0.00000
Insert paths 6 (584)        0.07        0.03           1        0.06900        0.03000
Delete paths 6 (300)        0.00        0.00           1        0.00100        0.00000
Insert paths 7 (514)        0.05        0.01           1        0.04600        0.01000
Delete paths 7 (584)        0.00        0.00           1        0.00100        0.00000
Insert paths 8 (0)          0.01        0.00           1        0.01000        0.00000
Delete paths 8 (514)        0.00        0.00           1        0.00100        0.00000
Insert paths 9 (0)          0.00        0.00           1        0.00000        0.00000
Delete paths 9 (0)          0.00        0.00           1        0.00000        0.00000
Insert paths 10 (0)         0.25        0.06           1        0.25200        0.06000
Delete paths 10 (0)         0.00        0.00           1        0.00100        0.00000
Insert paths 11 (0)         0.00        0.00           1        0.00000        0.00000
Delete paths 11 (0)         0.00        0.00           1        0.00100        0.00000
(Other)                     0.00        0.00           1        0.00000        0.00000
--------------------  ----------  ----------  ----------  -------------  -------------
Total                       0.75        0.20          25        0.03008        0.00800
--------------------  ----------  ----------  ----------  -------------  -------------
[Timer timed (per call in ms): Elapsed: 0.01942, CPU: 0.00962]
SQL_ID  323bar13mrwwy, child number 0
-------------------------------------
INSERT /*+ gather_plan_statistics INSERT_PATHS */ INTO PATHS (
PATH_RNK, ITEM_RNK, LEV, TOT_PRICE, TOT_VALUE, CAT_ID, NEXT_CAT_ID,
SAME_CATS, MIN_ITEMS, CATS_PATH, PATH ) WITH PATH_JOIN AS ( SELECT
ROW_NUMBER() OVER (PARTITION BY TRW.CATS_PATH || IRK.CAT_ID ORDER BY
TRW.TOT_VALUE + IRK.ITEM_VALUE DESC, TRW.TOT_PRICE + IRK.ITEM_PRICE)
PATH_RNK, IRK.ITEM_RNK, :B6 LEV, TRW.TOT_PRICE + IRK.ITEM_PRICE
TOT_PRICE, TRW.TOT_VALUE + IRK.ITEM_VALUE TOT_VALUE, IRK.CAT_ID,
IRK.NEXT_CAT_ID, CASE IRK.CAT_ID WHEN TRW.CAT_ID THEN TRW.SAME_CATS + 1
ELSE 1 END SAME_CATS, IRK.MIN_ITEMS, TRW.CATS_PATH || IRK.CAT_ID
CATS_PATH, TRW.PATH || IRK.ITEM_ID PATH FROM PATHS TRW JOIN
ITEMS_RANKED IRK ON IRK.ITEM_RNK BETWEEN (TRW.ITEM_RNK + 1) AND
(IRK.N_ITEMS - (:B1 - TRW.LEV - 1)) WHERE TRW.TOT_PRICE +
IRK.ITEM_PRICE + :B5 <= :B4 AND TRW.TOT_VALUE + IRK.ITEM_VALUE + :B3 >=
:B2 AND TRW.LEV < :B1 AND CASE IRK.CAT_ID WHEN TRW.CAT_ID THEN
TRW.SAME_CATS + 1 ELSE 1 END <= IRK.MAX_ITEMS AND :B1 - (TRW.LEV + 1) +
LEAST(CAS
Plan hash value: 539382260
---------------------------------------------------------------------------------------------------------
| Id  | Operation                | Name               | Starts | E-Rows | A-Rows |   A-Time   | Buffers |
---------------------------------------------------------------------------------------------------------
|   0 | INSERT STATEMENT         |                    |      1 |        |      0 |00:00:00.01 |      52 |
|   1 |  LOAD TABLE CONVENTIONAL | PATHS              |      1 |        |      0 |00:00:00.01 |      52 |
|*  2 |   VIEW                   |                    |      1 |      1 |      0 |00:00:00.01 |      52 |
|   3 |    WINDOW SORT           |                    |      1 |      1 |      0 |00:00:00.01 |      52 |
|   4 |     NESTED LOOPS         |                    |      1 |      1 |      0 |00:00:00.01 |      52 |
|*  5 |      TABLE ACCESS FULL   | PATHS              |      1 |      1 |      0 |00:00:00.01 |      52 |
|*  6 |      INDEX RANGE SCAN    | SYS_IOT_TOP_179639 |      0 |      1 |      0 |00:00:00.01 |       0 |
---------------------------------------------------------------------------------------------------------
Predicate Information (identified by operation id):
---------------------------------------------------
2 - filter(("PATH_RNK"<=:B7 OR :B7=0))
5 - filter("TRW"."LEV"<:B1)
6 - access("IRK"."ITEM_RNK">="TRW"."ITEM_RNK"+1)
filter(("TRW"."TOT_PRICE"+"IRK"."ITEM_PRICE"+:B5<=:B4 AND
"TRW"."TOT_VALUE"+"IRK"."ITEM_VALUE"+:B3>=:B2 AND
"IRK"."ITEM_RNK"<="IRK"."N_ITEMS"-(:B1-"TRW"."LEV"-1) AND "IRK"."MAX_ITEMS">=CASE "IRK"."CAT_ID"
WHEN "TRW"."CAT_ID" THEN "TRW"."SAME_CATS"+1 ELSE 1 END  AND
"IRK"."MIN_REMAIN"<=:B1-("TRW"."LEV"+1)+LEAST(CASE "IRK"."CAT_ID" WHEN "TRW"."CAT_ID" THEN
"TRW"."SAME_CATS"+1 ELSE 1 END ,"IRK"."MIN_ITEMS") AND ("IRK"."CAT_ID"="TRW"."CAT_ID" OR
"TRW"."SAME_CATS">="TRW"."MIN_ITEMS") AND ("IRK"."CAT_ID"="TRW"."CAT_ID" OR
"IRK"."CAT_ID"=NVL("TRW"."NEXT_CAT_ID","IRK"."CAT_ID"))))
Note
-----
- dynamic statistics used: dynamic sampling (level=2)
Timer Set: Pop_Table_Iterate, Constructed at 14 Jun 2024 10:37:21, written at 10:37:23
======================================================================================
Timer                     Elapsed         CPU       Calls       Ela/Call       CPU/Call
---------------------  ----------  ----------  ----------  -------------  -------------
Initial delete (0)           0.00        0.00           1        0.00000        0.00000
Initial insert (1)           0.00        0.00           1        0.00000        0.00000
Insert paths 1 (43)          0.00        0.00           1        0.00200        0.00000
Delete paths 1 (1)           0.00        0.00           1        0.00000        0.00000
Insert paths 2 (450)         0.04        0.02           1        0.04100        0.02000
Delete paths 2 (43)          0.00        0.00           1        0.00100        0.00000
Insert paths 3 (450)         0.54        0.11           1        0.54400        0.11000
Delete paths 3 (450)         0.00        0.00           1        0.00100        0.00000
Insert paths 4 (450)         0.31        0.12           1        0.30500        0.12000
Delete paths 4 (450)         0.00        0.00           1        0.00100        0.00000
Insert paths 5 (900)         0.24        0.10           1        0.23900        0.10000
Delete paths 5 (450)         0.00        0.00           1        0.00100        0.00000
Insert paths 6 (1800)        0.19        0.01           1        0.19000        0.01000
Delete paths 6 (900)         0.00        0.00           1        0.00100        0.00000
Insert paths 7 (1992)        0.21        0.02           1        0.20700        0.02000
Delete paths 7 (1800)        0.00        0.00           1        0.00100        0.00000
Insert paths 8 (1969)        0.11        0.01           1        0.10800        0.01000
Delete paths 8 (1992)        0.01        0.01           1        0.00500        0.01000
Insert paths 9 (0)           0.07        0.02           1        0.06500        0.02000
Delete paths 9 (1969)        0.00        0.01           1        0.00200        0.01000
Insert paths 10 (0)          0.28        0.09           1        0.28200        0.09000
Delete paths 10 (0)          0.00        0.00           1        0.00100        0.00000
Insert paths 11 (0)          0.00        0.00           1        0.00000        0.00000
Delete paths 11 (0)          0.00        0.00           1        0.00100        0.00000
(Other)                      0.00        0.00           1        0.00000        0.00000
---------------------  ----------  ----------  ----------  -------------  -------------
Total                        2.00        0.52          25        0.07992        0.02080
---------------------  ----------  ----------  ----------  -------------  -------------
[Timer timed (per call in ms): Elapsed: 0.01429, CPU: 0.00000]
SQL_ID  323bar13mrwwy, child number 0
-------------------------------------
INSERT /*+ gather_plan_statistics INSERT_PATHS */ INTO PATHS (
PATH_RNK, ITEM_RNK, LEV, TOT_PRICE, TOT_VALUE, CAT_ID, NEXT_CAT_ID,
SAME_CATS, MIN_ITEMS, CATS_PATH, PATH ) WITH PATH_JOIN AS ( SELECT
ROW_NUMBER() OVER (PARTITION BY TRW.CATS_PATH || IRK.CAT_ID ORDER BY
TRW.TOT_VALUE + IRK.ITEM_VALUE DESC, TRW.TOT_PRICE + IRK.ITEM_PRICE)
PATH_RNK, IRK.ITEM_RNK, :B6 LEV, TRW.TOT_PRICE + IRK.ITEM_PRICE
TOT_PRICE, TRW.TOT_VALUE + IRK.ITEM_VALUE TOT_VALUE, IRK.CAT_ID,
IRK.NEXT_CAT_ID, CASE IRK.CAT_ID WHEN TRW.CAT_ID THEN TRW.SAME_CATS + 1
ELSE 1 END SAME_CATS, IRK.MIN_ITEMS, TRW.CATS_PATH || IRK.CAT_ID
CATS_PATH, TRW.PATH || IRK.ITEM_ID PATH FROM PATHS TRW JOIN
ITEMS_RANKED IRK ON IRK.ITEM_RNK BETWEEN (TRW.ITEM_RNK + 1) AND
(IRK.N_ITEMS - (:B1 - TRW.LEV - 1)) WHERE TRW.TOT_PRICE +
IRK.ITEM_PRICE + :B5 <= :B4 AND TRW.TOT_VALUE + IRK.ITEM_VALUE + :B3 >=
:B2 AND TRW.LEV < :B1 AND CASE IRK.CAT_ID WHEN TRW.CAT_ID THEN
TRW.SAME_CATS + 1 ELSE 1 END <= IRK.MAX_ITEMS AND :B1 - (TRW.LEV + 1) +
LEAST(CAS
Plan hash value: 539382260
------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                | Name               | Starts | E-Rows | A-Rows |   A-Time   | Buffers |  OMem |  1Mem | Used-Mem |
------------------------------------------------------------------------------------------------------------------------------------
|   0 | INSERT STATEMENT         |                    |      1 |        |      0 |00:00:00.06 |     609 |       |       |          |
|   1 |  LOAD TABLE CONVENTIONAL | PATHS              |      1 |        |      0 |00:00:00.06 |     609 |       |       |          |
|*  2 |   VIEW                   |                    |      1 |      1 |    179 |00:00:00.06 |     600 |       |       |          |
|   3 |    WINDOW SORT           |                    |      1 |      1 |    179 |00:00:00.06 |     600 | 48128 | 48128 |43008  (0)|
|   4 |     NESTED LOOPS         |                    |      1 |      1 |    179 |00:00:00.01 |     600 |       |       |          |
|*  5 |      TABLE ACCESS FULL   | PATHS              |      1 |      1 |   4388 |00:00:00.01 |     225 |       |       |          |
|*  6 |      INDEX RANGE SCAN    | SYS_IOT_TOP_179639 |   4388 |      1 |    179 |00:00:00.06 |     375 |       |       |          |
------------------------------------------------------------------------------------------------------------------------------------
Predicate Information (identified by operation id):
---------------------------------------------------
2 - filter(("PATH_RNK"<=:B7 OR :B7=0))
5 - filter("TRW"."LEV"<:B1)
6 - access("IRK"."ITEM_RNK">="TRW"."ITEM_RNK"+1)
filter(("TRW"."TOT_PRICE"+"IRK"."ITEM_PRICE"+:B5<=:B4 AND "TRW"."TOT_VALUE"+"IRK"."ITEM_VALUE"+:B3>=:B2 AND
"IRK"."ITEM_RNK"<="IRK"."N_ITEMS"-(:B1-"TRW"."LEV"-1) AND "IRK"."MAX_ITEMS">=CASE "IRK"."CAT_ID" WHEN "TRW"."CAT_ID" THEN
"TRW"."SAME_CATS"+1 ELSE 1 END  AND "IRK"."MIN_REMAIN"<=:B1-("TRW"."LEV"+1)+LEAST(CASE "IRK"."CAT_ID" WHEN "TRW"."CAT_ID"
THEN "TRW"."SAME_CATS"+1 ELSE 1 END ,"IRK"."MIN_ITEMS") AND ("IRK"."CAT_ID"="TRW"."CAT_ID" OR
"TRW"."SAME_CATS">="TRW"."MIN_ITEMS") AND ("IRK"."CAT_ID"="TRW"."CAT_ID" OR
"IRK"."CAT_ID"=NVL("TRW"."NEXT_CAT_ID","IRK"."CAT_ID"))))
Note
-----
- dynamic statistics used: dynamic sampling (level=2)
Timer Set: Pop_Table_Iterate, Constructed at 14 Jun 2024 10:37:23, written at 10:37:28
======================================================================================
Timer                      Elapsed         CPU       Calls       Ela/Call       CPU/Call
----------------------  ----------  ----------  ----------  -------------  -------------
Initial delete (0)            0.00        0.00           1        0.00000        0.00000
Initial insert (1)            0.00        0.00           1        0.00100        0.00000
Insert paths 1 (43)           0.00        0.00           1        0.00100        0.00000
Delete paths 1 (1)            0.00        0.00           1        0.00100        0.00000
Insert paths 2 (1350)         0.04        0.01           1        0.03700        0.01000
Delete paths 2 (43)           0.00        0.00           1        0.00000        0.00000
Insert paths 3 (1350)         1.24        0.35           1        1.23500        0.35000
Delete paths 3 (1350)         0.00        0.00           1        0.00200        0.00000
Insert paths 4 (1350)         0.94        0.33           1        0.93800        0.33000
Delete paths 4 (1350)         0.00        0.00           1        0.00100        0.00000
Insert paths 5 (2700)         0.64        0.29           1        0.64000        0.29000
Delete paths 5 (1350)         0.00        0.00           1        0.00100        0.00000
Insert paths 6 (5400)         0.67        0.28           1        0.67400        0.28000
Delete paths 6 (2700)         0.00        0.01           1        0.00400        0.01000
Insert paths 7 (8100)         0.57        0.35           1        0.56900        0.35000
Delete paths 7 (5400)         0.01        0.01           1        0.00700        0.01000
Insert paths 8 (9561)         0.60        0.49           1        0.60300        0.49000
Delete paths 8 (8100)         0.01        0.01           1        0.00900        0.01000
Insert paths 9 (4388)         0.42        0.38           1        0.42300        0.38000
Delete paths 9 (9561)         0.01        0.01           1        0.00600        0.01000
Insert paths 10 (179)         0.28        0.28           1        0.28300        0.28000
Delete paths 10 (4388)        0.00        0.00           1        0.00300        0.00000
Insert paths 11 (0)           0.00        0.00           1        0.00300        0.00000
Delete paths 11 (179)         0.00        0.00           1        0.00200        0.00000
(Other)                       0.00        0.00           1        0.00000        0.00000
----------------------  ----------  ----------  ----------  -------------  -------------
Total                         5.44        2.80          25        0.21772        0.11200
----------------------  ----------  ----------  ----------  -------------  -------------
[Timer timed (per call in ms): Elapsed: 0.00926, CPU: 0.00926]
Timer Set: Iteratively_Refine_Iterate, Constructed at 14 Jun 2024 10:37:19, written at 10:37:28
===============================================================================================
Timer                                            Elapsed         CPU       Calls       Ela/Call       CPU/Call
--------------------------------------------  ----------  ----------  ----------  -------------  -------------
PTI 1: MIN_VALUE / KEEP_NUM = 0 / 50                0.70        0.36           1        0.69800        0.36000
SELECT 1: MIN_VALUE / KEEP_NUM = 0 / 50             0.00        0.00           1        0.00400        0.00000
PTI 2: MIN_VALUE / KEEP_NUM = 0 / 150               0.86        0.25           1        0.85500        0.25000
SELECT 2: MIN_VALUE / KEEP_NUM = 0 / 150            0.00        0.00           1        0.00000        0.00000
PTI 3: MIN_VALUE / KEEP_NUM = 0 / 450               2.10        0.52           1        2.10000        0.52000
SELECT 3: MIN_VALUE / KEEP_NUM = 0 / 450            0.00        0.00           1        0.00000        0.00000
PTI (final): MIN_VALUE / KEEP_NUM = 0 / 1350        5.54        2.90           1        5.54400        2.90000
(Other)                                             0.00        0.00           1        0.00000        0.00000
--------------------------------------------  ----------  ----------  ----------  -------------  -------------
Total                                               9.20        4.03           8        1.15013        0.50375
--------------------------------------------  ----------  ----------  ----------  -------------  -------------
[Timer timed (per call in ms): Elapsed: 0.00980, CPU: 0.00882]

PL/SQL procedure successfully completed.

Elapsed: 00:00:09.31
Iteratively_Refine_Iterate - 10'th to 1'st highest values, then corresponding prices

Summary
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
500, , , , , , , , , , ; Prices: , , , , , , , , , ; 10 : Values, Prices, Seconds

Elapsed: 00:00:00.01
Iteratively_Refine_Iterate - Best and Worst

Summary
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
500, 0, 0, 10 - BEST (V, P): (, ); WORST (V, P): (, ); Seconds: 10

Elapsed: 00:00:00.00
Iteratively_Refine_Iterate

no rows selected

Elapsed: 00:00:00.00

PL/SQL procedure successfully completed.

Elapsed: 00:00:00.00
Timer Set: Item_Cat_Seqs_Loop, Constructed at 14 Jun 2024 10:37:19, written at 10:37:29
=======================================================================================
Timer                                       Elapsed         CPU       Calls       Ela/Call       CPU/Call
---------------------------------------  ----------  ----------  ----------  -------------  -------------
Iteratively_Refine_Iterate - path level        9.35        4.14           1        9.34500        4.14000
(Other)                                        0.00        0.00           1        0.00200        0.00000
---------------------------------------  ----------  ----------  ----------  -------------  -------------
Total                                          9.35        4.14           2        4.67350        2.07000
---------------------------------------  ----------  ----------  ----------  -------------  -------------
[Timer timed (per call in ms): Elapsed: 0.00909, CPU: 0.00818]

PL/SQL procedure successfully completed.


'END:'||TO_CHAR(SYSDATE,'DD-MON-YY
----------------------------------
End: 14-JUN-2024 10:37:29

